import pymysqlimport re# 设置一个数组存放电影的类型movie_type = []#设置一个字典，用来统计每个电影类型的数量movie_type_num = {}i = 0def connect_db():    db = pymysql.connect("localhost", "root", "Tan707208", "douban", charset='utf8')    return dbdef select_info():    #链接数据局    con = connect_db()    # 设置游标    cur = con.cursor()    #待执行的sql语句    sql = """select TYPE from doubanmovie"""    try:        cur.execute(sql)        con.close()        # fetchall()返回所有符合条件的数据        result = cur.fetchall()        # 获取电影的所有类型        for row in result:            # 如果结果不在该集合中，则把该结果加入到该集合中            if row not in movie_type:                movie_type.append(row)        #获取每个电影类型的个数        movieType = movie_type[0]        mo = movieType[0]        print(type(movieType))        print(mo)        # 和get()类似, 但如果键不已经存在于字典中，将会添加键并将值设为default        movie_type_num.setdefault(mo,1)        print(movie_type_num)    except:        print("失败")select_info()